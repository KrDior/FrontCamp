<div [@routerTransition]>
	<app-page-header [heading]="'News list'" [icon]="'fa-table'"></app-page-header>
	<h1>Product list</h1>
	<input type="button" value="Add new product" class="btn btn-default" (click)="addProduct()" />
	<br><br>
	<table class="table table-striped table-hover">
		<thead>
			<tr>
				<td>Id</td>
				<td>Manufacturer</td>
				<td>Model</td>
				<td>Picture</td>
				<td>Price</td>
				<td>Description</td>
				<td>Diagonal</td>
				<td>Type of matrix</td>
				<td>Resolution</td>
				<td>Support 3D</td>
				<td>Port interface</td>
				<td>Availability</td>
				<td></td>
				<td></td>
			</tr>
		</thead>
		<tbody>
			<tr *ngFor="let product of products">
				<ng-template [ngTemplateOutlet]="loadTemplate(product)"
					[ngTemplateOutletContext]="{ $implicit: product}">
				</ng-template>
			</tr>
		</tbody>
	</table>
	<div>{{statusMessage}}</div>
	<ng-template #readOnlyTemplate let-product>
		<td>{{ product?._id }}</td>
		<td>{{ product?.manufacturer }}</td>
		<td>{{ product?.model }}</td>
		<td>{{ product.picture }}</td>
		<td>{{ product.price }}</td>
		<td>{{ product.description }}</td>
		<td>{{ product.diagonal }}</td>
		<td>{{ product.typeOfMatrix }}</td>
		<td>{{ product.resolution }}</td>
		<td>{{ product.support3D }}</td>
		<td>{{ product.portInterface }}</td>
		<td>{{ product.available }}</td>
		<td>
			<input type="button" value="Edit" class="btn btn-default" (click)="editProduct(product)" />
		</td>
		<td>
			<input type="button" value="Delete" (click)="deleteProduct(product)" class="btn btn-danger" />
		</td>
	</ng-template>
	<ng-template #editTemplate>
		<td>
			<input type="text" [(ngModel)]="editedProduct._id" readonly disabled class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.manufacturer" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.model" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.picture" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.price" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.description" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.diagonal" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.typeOfMatrix" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.resolution" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.support3D" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.portInterface" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.available" class="form-control" />
		</td>
		<td>
			<input type="button" value="Save" (click)="saveProduct()" class="btn btn-success" />
		</td>
		<td>
			<input type="button" value="Cancel" (click)="cancel()" class="btn btn-warning" />
		</td>
	</ng-template>
</div>
