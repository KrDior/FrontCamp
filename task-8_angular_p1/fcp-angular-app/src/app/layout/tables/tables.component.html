<div [@routerTransition]>
  <app-page-header [heading]="newsHeader" [icon]="'fa-table'"></app-page-header>
  <app-filter-panel
  (newsSourceName)="onNewsSourceChange($event)"
  ></app-filter-panel>
	<input type="button" value="Add new product" class="btn btn-default" (click)="addProduct()" />
	<br><br>
	<table class="table table-striped table-hover">
		<thead>
			<tr>
				<td>Id</td>
				<td>Manufacturer</td>
				<td>Model</td>
				<td>Picture</td>
				<td>Price</td>
				<td>Description</td>
				<td>Diagonal</td>
				<td>Type of matrix</td>
				<td>Resolution</td>
				<td>Support 3D</td>
				<td>Port interface</td>
				<td>Availability</td>
				<td></td>
				<td></td>
			</tr>
		</thead>
		<!-- <tbody>
			<tr *ngFor="let article of mockedNews">
				<ng-template [ngTemplateOutlet]="loadNewsTemplate(article)"
					[ngTemplateOutletContext]="{ $implicit: article}">
				</ng-template>
			</tr>
		</tbody> -->
  </table>
  <div class="news-container d-flex flex-column">
    <ng-container *ngIf="mockedNews">
      <div class="bd-highlight d-flex justify-content-center" *ngFor="let article of mockedNews">
        <ng-template [ngTemplateOutlet]="loadNewsTemplate(article)"
          [ngTemplateOutletContext]="{ $implicit: article}">
        </ng-template>
      </div>
    </ng-container>
  </div>
	<ng-template #readOnlyTemplate let-article>
    <div class="card mb-3 align-middle" style="max-width: 1000px;">
      <div class="row no-gutters align-items-center">
        <div class="col-md-4">
          <img src={{article.urlToImage}} class="card-img" alt="news-image">
        </div>
        <div class="col-md-8">
          <div class="card-body pt-0 pb-0">
            <h5 class="card-title pt-2">{{ article?.title }}</h5>
            <p class="card-text">{{ article?.description }}</p>
            <a class="card-text">{{ "Read more..." }}</a>
          </div>
          <div class="d-flex bd-highlight mb-3">
            <div class="card-text bd-highlight pl-5 pt-2"><small class="text-muted">{{ article?.publishedAt | date }}</small></div>
            <input type="button" value="Edit" class="btn btn-default ml-auto mr-3 bd-highlight" (click)="editProduct(article)" />
            <input type="button" value="Delete" class="btn btn-danger mr-4 bd-highlight" (click)="deleteProduct(article)" />
          </div>
        </div>
      </div>
    </div>
	</ng-template>
	<ng-template #editTemplate>
		<td>
			<input type="text" [(ngModel)]="editedProduct._id" readonly disabled class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.manufacturer" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.model" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.picture" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.price" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.description" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.diagonal" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.typeOfMatrix" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.resolution" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.support3D" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.portInterface" class="form-control" />
		</td>
		<td>
			<input type="text" [(ngModel)]="editedProduct.available" class="form-control" />
		</td>
		<td>
			<input type="button" value="Save" (click)="saveProduct()" class="btn btn-success" />
		</td>
		<td>
			<input type="button" value="Cancel" (click)="cancel()" class="btn btn-warning" />
		</td>
	</ng-template>
</div>
