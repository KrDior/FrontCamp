{"version":3,"sources":["./src/app/layout/article-page/article-page-routing.module.ts","./src/app/layout/article-page/article-page.component.html","./src/app/layout/article-page/article-page.component.ts","./src/app/layout/article-page/article-page.module.ts"],"names":[],"mappings":"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","file":"article-page-article-page-module-ngfactory-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ArticlePageComponent } from './article-page.component';\n\nconst routes: Routes = [\n    {\n        path: '', component: ArticlePageComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class ArticlePageRoutingModule {\n}\n","<div [@routerTransition] class=\"forms-body\">\n  <div *ngIf=\"article$ as article\">\n    <app-page-header [heading]=\"editLink(article)\" [icon]=\"'fa-edit'\"></app-page-header>\n    <div class=\"bd-highlight d-flex justify-content-center\">\n      <div class=\"card mb-3 mt-4\" style=\"max-width: 80%; min-height: 400px\">\n        <div class=\"row no-gutters align-items-sm-start justify-content-between\">\n          <div class=\"col-md-4 mr-3\">\n            <img [src]=\"setImage(article)\" class=\"card-img img-thumbnail ml-3 mt-5 img-fluid\" alt=\"news-image\">\n          </div>\n          <div class=\"card-info col-md-6\">\n            <div class=\"card-body \">\n              <h3 class=\"card-title\">{{ article?.title }}</h3>\n              <p class=\"card-description card-text\">{{ article?.content }}</p>\n            </div>\n            <div class=\"d-flex bd-highlight\">\n              <p class=\"card-text bd-highlight pl-5 pt-1\"><small class=\"text-muted\">{{ article?.publishedAt | date }}</small></p>\n            </div>\n            <div class=\"d-flex bd-highlight\">\n              <p class=\"card-text bd-highlight pl-5 pt-1 mb-4\"><small class=\"text-muted\">{{ article?.author }}</small></p>\n            </div>\n          </div>\n          <div class=\"card-button col-md-1 d-flex flex-column flex-grow-1 align-self-start mt-4 mr-lg-4 mr-sm-0 mr-md-2\" style=\"min-width: auto\">\n            <input *ngIf=\"article.isLocalNews\" [routerLink]=\"['/editpage']\" [routerLinkActive]=\"['router-link-active']\" type=\"button\" value=\"Edit\" class=\"btn btn-default mb-3 btn-cd\" (click)=\"passCurrentArticleData(article)\"/>\n            <app-modal-window *ngIf=\"article.isLocalNews\" value=\"Delete\" class=\"btn btn-danger\" [toggleModal]=\"true\" (click)=\"deleteArticle(article)\"></app-modal-window>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { TemplateRef, ViewChild } from '@angular/core';\nimport { switchMap } from 'rxjs/operators';\nimport { ActivatedRoute, ParamMap } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { routerTransition } from '../../router.animations';\nimport { NewsItem } from '../interfaces';\nimport { ArticleService } from '../services/article.service';\nimport { NewsService } from '../services/news.service';\n\n@Component({\n  selector: 'app-article-page',\n  templateUrl: './article-page.component.html',\n  animations: [routerTransition()],\n  styleUrls: ['./article-page.component.scss']\n})\nexport class ArticlePageComponent implements OnInit {\n  @ViewChild('readOnlyTemplate', { static: false }) readOnlyTemplate: TemplateRef<any>;\n  article$: NewsItem;\n  isItemDeleted = false;\n  defaultData: NewsItem = {\n    _id: 'no id',\n    author: '',\n    title: 'default',\n    description: 'default',\n    url: '',\n    urlToImage: '',\n    publishedAt: '',\n    content: ''\n  };\n\n  constructor(\n    private articleService: ArticleService,\n    private newsService: NewsService,\n    private route: ActivatedRoute,\n  ) { }\n\n  ngOnInit() {\n    const path = window.location.pathname.slice(10);\n    this.articleService.getNewsEdit()\n    .subscribe(data => {\n      if (!data) {\n        this.newsService.onGetByUrlArticle(path.split('%2F').join('/'))\n        .subscribe(data2 => {\n          if (data2[0]) {\n            this.article$ = data2[0];\n          } else {\n            this.article$ = this.defaultData;\n          }\n      });\n      } else {\n        this.article$ = data;\n      }\n    });\n  }\n\n  editLink(article) {\n    if (article.title) {\n      return article.title.split(' ').slice(0, 2).join(' ');\n    }\n    return 'default';\n  }\n\n  setImage(article) {\n    if (article.pictureFile && article.pictureFile !== 'null') {\n      return article.pictureFile;\n    } else if (article.urlToImage) {\n      return article.urlToImage;\n    } else {\n      return 'assets/images/album-default.png';\n    }\n  }\n\n  passCurrentArticleData(article: NewsItem) {\n    this.articleService.setNewsEdit(article);\n  }\n\n  deleteArticle(article: NewsItem): void {\n    console.log('Create request for deleting item');\n    this.newsService.onDeleteArticle(article._id);\n    this.isItemDeleted = !this.isItemDeleted;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ArticlePageRoutingModule } from './article-page-routing.module';\nimport { ArticlePageComponent } from './article-page.component';\nimport { PageHeaderModule } from './../../shared';\nimport { ModalWindowModule } from 'src/app/components/modal-window/modal-window.module';\n\n\n@NgModule({\n  imports: [CommonModule, ArticlePageRoutingModule, PageHeaderModule, FormsModule, ModalWindowModule,],\n  declarations: [ArticlePageComponent],\n})\nexport class ArticlePageModule { }\n"],"sourceRoot":"webpack:///"}