{"version":3,"sources":["./src/app/layout/form/components/alert/alert-selfclosing.component.html","./src/app/layout/form/components/alert/alert-selfclosing.component.ts","./src/app/layout/form/form-routing.module.ts","./src/app/layout/form/form.component.html","./src/app/layout/form/form.component.ts","./src/app/layout/form/form.module.ts"],"names":[],"mappings":"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","file":"form-form-module-ngfactory-es2015.js","sourcesContent":["<ngb-alert *ngIf=\"successMessage\" type=\"success\" (close)=\"successMessage = null\">{{ successMessage }}</ngb-alert>\n\n","import {Component, OnInit, Input} from '@angular/core';\nimport {Subject} from 'rxjs';\nimport {debounceTime} from 'rxjs/operators';\nimport { ArticleService } from 'src/app/layout/services/article.service';\n\n@Component({\n  selector: 'app-alert-selfclosing',\n  templateUrl: './alert-selfclosing.component.html'\n})\nexport class AlertSelfclosingComponent implements OnInit {\n  private success = new Subject<string>();\n\n  staticAlertClosed = false;\n  successMessage: string;\n\n  constructor(\n    private articleService: ArticleService,\n  ) {}\n\n  ngOnInit(): void {\n    this.articleService.getChangeSuccess().subscribe((data) => data ? this.changeSuccessMessage() : null);\n    setTimeout(() => this.staticAlertClosed = true, 20000);\n\n    this.success.subscribe((message) => this.successMessage = message);\n    this.success.pipe(\n      debounceTime(5000)\n    ).subscribe(() => this.successMessage = null);\n  }\n\n  public changeSuccessMessage() {\n    this.success.next(`${new Date()} - Your changes have been successfully saved.`);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { FormComponent } from './form.component';\n\nconst routes: Routes = [\n    {\n        path: '', component: FormComponent\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class FormRoutingModule {\n}\n","<div [@routerTransition] class=\"forms-body\">\n  <app-page-header [heading]=\"formTitle\" [icon]=\"'fa-edit'\"></app-page-header>\n  <div class=\"\">\n    <div class=\"col-lg-8 col-sm-12\">\n      <h4>{{ formTitle }}</h4>\n      <form [formGroup]=\"newsForm\" novalidate>\n        <div class=\"bd-highlight d-flex card\" style=\"min-width: 400px;\">\n          <div class=\"mb-3 mt-4\">\n            <div class=\"row no-gutters align-items-sm-start justify-content-center\">\n              <div class=\"col-md-5 mr-4\">\n                <div class=\"form-group\">\n                  <label>Title</label>\n                  <input class=\"form-control\" name=\"title\" formControlName=\"title\" placeholder=\"\" (change)=\"onTitleChange($event.target.value)\" />\n                </div>\n                <div class=\"alert alert-danger\"\n                  *ngIf=\"newsForm.controls['title'].invalid && newsForm.controls['title'].touched\">\n                  Title doesn't specify!\n                </div>\n                <div class=\"form-group\">\n                  <label>Short description</label>\n                  <textarea class=\"form-control\" name=\"description\" formControlName=\"description\" placeholder=\"\"\n                    cols=\"3\" rows=\"3\"></textarea>\n                </div>\n                <div class=\"alert alert-danger\"\n                  *ngIf=\"newsForm.controls['description'].invalid && newsForm.controls['description'].touched\">\n                  Description doesn't specify!\n                </div>\n                <div class=\"form-group\">\n                  <label>Content</label>\n                  <textarea class=\"form-control\" minlength=\"50\" name=\"content\" formControlName=\"content\" placeholder=\"\" cols=\"10\" rows=\"10\"></textarea>\n                </div>\n                <div class=\"alert alert-danger\"\n                  *ngIf=\"newsForm.controls['content'].invalid && newsForm.controls['content'].touched\">\n                  Content doesn't specify! Content must be at least 50 characters long\n                </div>\n              </div>\n              <div class=\"col-md-5 ml-4\">\n                <div class=\"form-group\">\n                  <label>Image</label>\n                  <div class=\"custom-control custom-radio custom-control-inline ml-4\">\n                    <input type=\"radio\" id=\"radioUrl\" name=\"radioUrl\" class=\"custom-control-input\"\n                      (click)=\"imagyTypeChange(true)\" checked>\n                    <label class=\"custom-control-label\" for=\"radioUrl\">URL</label>\n                  </div>\n                  <div class=\"custom-control custom-radio custom-control-inline\">\n                    <input type=\"radio\" id=\"radioImage\" name=\"radioUrl\" class=\"custom-control-input\"\n                      (click)=\"imagyTypeChange(false)\">\n                    <label class=\"custom-control-label\" for=\"radioImage\">File</label>\n                  </div>\n                  <input *ngIf=\"articleUrlFiled\" class=\"form-control\" name=\"image\" formControlName=\"urlToImage\"\n                    placeholder=\"\" />\n\n                  <div *ngIf=\"!articleUrlFiled\" class=\"container\">\n                    <div class=\"row\">\n                        <div class=\"col-md-6 \">\n                            <h3>Choose File</h3>\n                            <div class=\"form-group\">\n                                <input type=\"file\" name=\"image\" (change)=\"fileProgress($event)\" />\n                            </div>\n                            <div class=\"image-preview mb-3\" *ngIf=\"previewUrl\">\n                                <img [src]=\"previewUrl\" width=\"200\" />\n                            </div>\n\n                        <div class=\"mb-3\" *ngIf=\"uploadedFilePath\">\n                          {{uploadedFilePath}}\n                        </div>\n\n                        <div class=\"form-group\">\n                          <button class=\"btn btn-primary\" (click)=\"onSubmit()\">Submit</button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                </div>\n                <div class=\"alert alert-danger\" *ngIf=\"newsForm.controls['urlToImage'].invalid\">\n                  Image doesn't specify!\n                </div>\n\n                <div class=\"form-group\">\n                  <label>Date</label>\n                  <input class=\"form-control\" [value]=\"newsForm.get('date').value | date: 'MMM d, y, h:mm:ss a'\"\n                    name=\"date\" formControlName=\"date\" placeholder=\"\" />\n                </div>\n                <div class=\"alert alert-danger\" *ngIf=\"newsForm.controls['date'].invalid\">\n                  Date doesn't specify!\n                </div>\n\n                <div class=\"form-group\">\n                  <label>Author</label>\n                  <input class=\"form-control\" name=\"author\" formControlName=\"author\" placeholder=\"\" />\n                </div>\n                <div class=\"alert alert-danger\" *ngIf=\"newsForm.controls['author'].invalid\">\n                  Author doesn't specify!\n                </div>\n\n                <div class=\"form-group\">\n                  <label>Source URL</label>\n                  <input class=\"form-control\" name=\"url\" formControlName=\"url\" placeholder=\"\" />\n                </div>\n                <div class=\"alert alert-danger\"\n                  *ngIf=\"newsForm.controls['url'].invalid && newsForm.controls['url'].touched\">\n                  Source URL doesn't specify!\n                </div>\n              </div>\n            </div>\n            <app-alert-selfclosing class=\"row no-gutters align-items-sm-start justify-content-start ml-5 mt-1\">\n            </app-alert-selfclosing>\n            <div class=\"row no-gutters align-items-sm-start justify-content-start ml-5 mt-4\">\n              <div class=\"form-group\">\n                <button type=\"submit\" class=\"btn btn-primary mr-3\" [disabled]=\"newsForm.invalid\"\n                  (click)=\"changeSubmit()\" ngbPopover=\"Please fill in all required fields.\" popoverTitle=\"Warning\" triggers=\"mouseenter:mouseleave\">Save</button>\n                <button type=\"reset\" class=\"btn btn-secondary\" ngbPopover=\"Press to reset form.\" popoverTitle=\"Warning\" triggers=\"mouseenter:mouseleave\">Cancel</button>\n\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit, OnDestroy, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { HttpClient, HttpEventType } from '@angular/common/http';\nimport { routerTransition } from '../../router.animations';\nimport { NgForm, FormGroup, FormControl, Validators } from '@angular/forms';\nimport { UserDataService } from 'src/app/global-service/user-data.service';\nimport { NewsItem } from '../interfaces';\nimport { ArticleService } from '../services/article.service';\nimport { NewsService } from '../services/news.service';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-form',\n  templateUrl: './form.component.html',\n  styleUrls: ['./form.component.scss'],\n  animations: [routerTransition()],\n  // changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class FormComponent implements OnInit, OnDestroy {\n\n  formTitle: string;\n  userName = '';\n  editedArticle: NewsItem;\n  article: Observable<NewsItem>;\n  articleUrlFiled = true;\n  changeSuccess = false;\n\n  // image loading\n  fileData: File = null;\n  previewUrl: any = null;\n  uploadedFilePath: string = null;\n\n\n  newsForm: FormGroup = new FormGroup({\n    title: new FormControl('', Validators.required),\n    description: new FormControl('', Validators.required),\n    content: new FormControl('', Validators.required),\n    urlToImage: new FormControl(''),\n    date: new FormControl({ value: new Date(), disabled: true }),\n    author: new FormControl(''),\n    url: new FormControl('', Validators.required),\n    pictureFile:  new FormControl(null),\n  });\n\n  formData = new FormData();\n\n  constructor(\n    private userService: UserDataService,\n    private newsService: NewsService,\n    private articleService: ArticleService,\n    private http: HttpClient,\n    // private ref: ChangeDetectorRef,\n  ) {\n    // this.ref.detach();\n  }\n\n  ngOnInit() {\n    this.articleService.getNewsEdit().subscribe(article => this.editedArticle = article);\n    this.formTitle = this.editedArticle ? 'Edit your choosen article' : 'Add new article to localbase';\n    if (this.editedArticle) {\n      this.setFormValue();\n    } else {\n      this.userName = localStorage.getItem('userName');\n      this.newsForm.patchValue({\n        author: this.userName,\n      });\n    }\n    // this.ref.detectChanges();\n  }\n\n  setFormValue() {\n    const { _id, isLocalNews, author, title, description, url, urlToImage, publishedAt, content } = this.editedArticle;\n    this.newsForm.patchValue({\n      title: title ? title : '',\n      description: description ? description : '',\n      content: content ? content : '',\n      urlToImage: urlToImage ? urlToImage : '',\n      date: publishedAt ? publishedAt : '',\n      author: author ? author : '',\n      url: url ? url : title.split(' ').join('-&').toLocaleLowerCase(),\n      pictureFile: null,\n    });\n    // this.ref.detectChanges();\n  }\n\n  imagyTypeChange(value) {\n    this.articleUrlFiled = value;\n  }\n\n  fileProgress(fileInput: any) {\n    this.fileData = fileInput.target.files[0] as File;\n    this.preview();\n  }\n\n  preview() {\n    // Show preview\n    const mimeType = this.fileData.type;\n    if (mimeType.match(/image\\/*/) == null) {\n      return;\n    }\n\n    const reader = new FileReader();\n    reader.readAsDataURL(this.fileData);\n    reader.onload = ($event) => {\n      this.previewUrl = reader.result;\n      this.newsForm.patchValue({\n        pictureFile: reader.result,\n      });\n    };\n  }\n\n  onSubmit() {\n    this.formData.append('files', this.fileData);\n\n    this.newsForm.patchValue({\n      pictureFile: this.fileData,\n    });\n\n  }\n\n  toFormData<T>( formValue: T ) {\n    const formData = new FormData();\n\n    for ( const key of Object.keys(formValue) ) {\n      const value = formValue[key];\n      formData.append(key, value);\n    }\n\n    return formData;\n  }\n\n  changeSubmit() {\n    const formData = this.toFormData(this.newsForm.value);\n    console.log('Form submit', this.newsForm.value);\n    this.editedArticle ?\n    this.newsService.onEditArticle(this.editedArticle._id, formData) : this.newsService.onPostArticle(formData);\n    this.newsForm.reset();\n    this.articleService.setChangeSuccess(true);\n  }\n\n  ngOnDestroy() {\n    this.newsForm.reset();\n    this.articleService.clear();\n  }\n\n  onTitleChange(value) {\n    this.newsForm.patchValue({\n      url: value.split(' ').join('-'),\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { FormRoutingModule } from './form-routing.module';\nimport { FormComponent } from './form.component';\nimport { PageHeaderModule } from './../../shared';\nimport { ModalWindowModule } from 'src/app/components/modal-window/modal-window.module';\nimport { AlertSelfclosingComponent } from './components/alert/alert-selfclosing.component';\nimport { NgbAlertModule } from '@ng-bootstrap/ng-bootstrap';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormRoutingModule,\n    PageHeaderModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ModalWindowModule,\n    NgbAlertModule,\n    NgbModule\n  ],\n  declarations: [FormComponent, AlertSelfclosingComponent]\n})\nexport class FormModule { }\n"],"sourceRoot":"webpack:///"}